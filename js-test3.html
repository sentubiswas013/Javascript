<!DOCTYPE html>
<html>
<meta name="viewport" content="width=device-width, initial-scale=1">
<title> Welcome </title>
<!--link href="css/bootstrap.min.css" /-->

<body>
    <div class="form">
        <div>
            <input type="text" id="name" value="" placeholder="Name" />
        </div>
        <div>
            <input type="text" id="email" value="" placeholder="Email" />
        </div>
        <div>
            <input type="text" id="phone" maxlength="10" value="" placeholder="Phone" />
        </div>
        <div>
            <select id="gender">
                <option>Male</option>
                <option>Female</option>
            </select>
        </div>
        <div>
            <input type="text" id="password" value="" placeholder="password" /> </div>
        <div>
            <button id="formSubmit">Submit</button>
        </div>
    </div>
    <script type="text/javascript">
    var btn = document.getElementById("formSubmit");

    /*	var name     = document.getElementById("name").value;
    	var email    = document.getElementById("email").value;
    	var phone    = document.getElementById("phone").value;
    	var gender   = document.getElementById("gender").value;
    	var password = document.getElementById("password").value;*/

    var formValObj = {};
    var userinfolist = [];
    var numstatus;
    btn.addEventListener("click", function() {
        //console.log("Btn clicked...");
        formValObj = {
            name: document.getElementById("name").value,
            email: document.getElementById("email").value,
            phone: document.getElementById("phone").value,
            gender: document.getElementById("gender").value,
            password: document.getElementById("password").value
        }
        if (formValidation(formValObj)) {
            console.log("Form is submited")
        }
    })
    
    function formSubmited(obj) {
    	//console.log (obj);
    	//debugger
    	//console.log(JSON.stringify(userinfolist).includes('"' + obj.name + '"'));
    	console.log(JSON.stringify(userinfolist));
        //if(JSON.stringify(userinfolist).includes('"' + obj.name + '"')){
        	userinfolist.push(obj);
        	//console.log(JSON.stringify(userinfolist));
        //}


        /*if (userinfolist.length == 0) {
            userinfolist.push(obj);
            console.log(userinfolist)
        } else if (userinfolist.length > 0) {
            //console.log("obj.email--", obj.email);
            //console.log("userinfolist[0].email--", userinfolist[0].email);

            userinfolist.forEach(function(e) {
                console.log(e.email == obj.email);
                if (e.email == obj.email) {
                    console.log("Email is exist already");
                } else {
                    userinfolist.push(obj);
                    localStorage.setItem("userinfolist", obj);
                    console.log("formSubmited---", userinfolist);
                }
            })

            /*console.log(obj.email == userinfolist[0].email)
            if (obj.email == userinfolist[0].email) {
                console.log("Email is exist already");
            } else {
                userinfolist.push(obj);
                localStorage.setItem("userinfolist", obj);
                console.log("formSubmited---", userinfolist );
            }
        }*/
    }

    function formValidation(obj) {
        //console.log("formValidation===", obj)
        if (obj.name == "") {
            console.log("Please enter name.");
        } else if (obj.email == "") {
            console.log("Please enter email.");
        } else if (obj.phone  == "") {
            //console.log(numstatus);
            console.log("Please enter phone number.");
        } else if (obj.gender == "") {
            console.log("Please enter gender.");
        } else if (obj.password == "") {
            console.log("Please enter password.");
        } else {
            formSubmited(obj);
        }
    }

    function phoneNumberValid(num) {
        if (num.length <= 10) {
            return numstatus = "Please enter 10 digit number"
        }
    }

    function existingValueCheck() {

    }
    </script>
</body>

</html>